<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Caching &mdash; Curifactory  documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Docker" href="docker.html" />
    <link rel="prev" title="Args" href="args.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Curifactory
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameter files and argsets</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache.html">Cache</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration and directory structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_guide.html">CLI Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and tricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Experiment</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="args.html">Args</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiment.html">Experiment</a></li>
<li class="toctree-l1"><a class="reference internal" href="manager.html">Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="procedure.html">Procedure</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="record.html">Record</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="staging.html">Staging</a></li>
<li class="toctree-l1"><a class="reference internal" href="store.html">Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utils</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Curifactory</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Caching</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/caching.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <div class="section" id="module-curifactory.caching">
<span id="caching"></span><h1>Caching<a class="headerlink" href="#module-curifactory.caching" title="Permalink to this headline"></a></h1>
<p>Classes for various caching strategies, known as “cachers”</p>
<p>This is handled through a base <code class="code docutils literal notranslate"><span class="pre">Cacheable</span></code> class, and each “strategy”
cacher class extends it.</p>
<p><strong>Classes:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable" title="curifactory.caching.Cacheable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Cacheable</span></code></a>(extension[, path_override])</p></td>
<td><p>The base caching class, any caching strategy should extend this.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.FileReferenceCacher" title="curifactory.caching.FileReferenceCacher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileReferenceCacher</span></code></a>([path_override])</p></td>
<td><p>Saves a file path or list of file paths generated from a stage as a json file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.JsonCacher" title="curifactory.caching.JsonCacher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JsonCacher</span></code></a>([path_override])</p></td>
<td><p>Dumps an object to indented JSON.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.Lazy" title="curifactory.caching.Lazy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Lazy</span></code></a>(name)</p></td>
<td><p>A class to indicate a stage output as a lazy-cache object - curifactory will attempt to keep this out of memory as much as possible, immediately caching and deleting, and loading back into memeory only when needed.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.PandasCsvCacher" title="curifactory.caching.PandasCsvCacher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasCsvCacher</span></code></a>(path_override, to_csv_args, …)</p></td>
<td><p>Saves a pandas dataframe to CSV.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.PandasJsonCacher" title="curifactory.caching.PandasJsonCacher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasJsonCacher</span></code></a>(path_override, …)</p></td>
<td><p>Saves a pandas dataframe to JSON.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.PickleCacher" title="curifactory.caching.PickleCacher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PickleCacher</span></code></a>([path_override])</p></td>
<td><p>Dumps an object to a pickle file.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="curifactory.caching.Cacheable">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">Cacheable</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.Cacheable" title="Permalink to this definition"></a></dt>
<dd><p>The base caching class, any caching strategy should extend this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extension</strong> (<em>str</em>) – The filetype extension to add at the end of the path.</p></li>
<li><p><strong>path_override</strong> (<em>str</em>) – Use a specific path for the cacheable, rather than
automatically setting it.</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.check" title="curifactory.caching.Cacheable.check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check</span></code></a>()</p></td>
<td><p>Check to see if this cacheable needs to be written or not.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.load" title="curifactory.caching.Cacheable.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.save" title="curifactory.caching.Cacheable.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(obj)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.set_path" title="curifactory.caching.Cacheable.set_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_path</span></code></a>(path)</p></td>
<td><p>Changes the <code class="code docutils literal notranslate"><span class="pre">path</span></code> to the passed value.</p></td>
</tr>
</tbody>
</table>
<p><strong>Attributes:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.extension" title="curifactory.caching.Cacheable.extension"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extension</span></code></a></p></td>
<td><p>The filetype extension to add at the end of the path.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.path" title="curifactory.caching.Cacheable.path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path</span></code></a></p></td>
<td><p>The path of the cacheable to write out.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.path_override" title="curifactory.caching.Cacheable.path_override"><code class="xref py py-obj docutils literal notranslate"><span class="pre">path_override</span></code></a></p></td>
<td><p>Use a specific path for the cacheable, rather than automatically setting it.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.Cacheable.record" title="curifactory.caching.Cacheable.record"><code class="xref py py-obj docutils literal notranslate"><span class="pre">record</span></code></a></p></td>
<td><p>the current record this cacheable is caching under.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.Cacheable.check">
<code class="sig-name descname"><span class="pre">check</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#curifactory.caching.Cacheable.check" title="Permalink to this definition"></a></dt>
<dd><p>Check to see if this cacheable needs to be written or not.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will always return False if the args are <code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if we find the cached file and the current <code class="code docutils literal notranslate"><span class="pre">Args</span></code>
don’t specify to overwrite, otherwise False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="curifactory.caching.Cacheable.extension">
<code class="sig-name descname"><span class="pre">extension</span></code><a class="headerlink" href="#curifactory.caching.Cacheable.extension" title="Permalink to this definition"></a></dt>
<dd><p>The filetype extension to add at the end of the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.Cacheable.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.Cacheable.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="curifactory.caching.Cacheable.path">
<code class="sig-name descname"><span class="pre">path</span></code><a class="headerlink" href="#curifactory.caching.Cacheable.path" title="Permalink to this definition"></a></dt>
<dd><p>The path of the cacheable to write out.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="curifactory.caching.Cacheable.path_override">
<code class="sig-name descname"><span class="pre">path_override</span></code><a class="headerlink" href="#curifactory.caching.Cacheable.path_override" title="Permalink to this definition"></a></dt>
<dd><p>Use a specific path for the cacheable, rather than automatically
setting it.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="curifactory.caching.Cacheable.record">
<code class="sig-name descname"><span class="pre">record</span></code><a class="headerlink" href="#curifactory.caching.Cacheable.record" title="Permalink to this definition"></a></dt>
<dd><p>the current record this cacheable is caching under. This can be used to get a copy of the current args instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="record.html#curifactory.record.Record" title="curifactory.record.Record">Record</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.Cacheable.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.Cacheable.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.Cacheable.set_path">
<code class="sig-name descname"><span class="pre">set_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.Cacheable.set_path" title="Permalink to this definition"></a></dt>
<dd><p>Changes the <code class="code docutils literal notranslate"><span class="pre">path</span></code> to the passed value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.FileReferenceCacher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">FileReferenceCacher</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.FileReferenceCacher" title="Permalink to this definition"></a></dt>
<dd><p>Saves a file path or list of file paths generated from a stage as a json file.
The <code class="code docutils literal notranslate"><span class="pre">check</span></code> function will check existence of all file paths.</p>
<p>This is useful for instances where there may be a large number of files stored or
generated to disk, as it would be unwieldy to return them all (or infeasible to keep them
in memory) directly from the stage. When this cacher is checked for pre-existing,
it tries to load the json file storing the filenames, and then checks for the existence of
each path in that json file. If all of them exist, it will short-circuit computation.</p>
<p>Using this cacher does mean the user is in charge of loading/saving the file paths correctly,
but in some cases that may be desirable.</p>
<p>This can also be used for storing a reference to a single file outside the normal cache.</p>
<p>When combined with the <code class="code docutils literal notranslate"><span class="pre">get_dir</span></code> call on the record, you can create a cached directory of
files similarly to a regular cacher and simply keep a reference to them as part of the actual
cacher process.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@stage</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;many_text_files&quot;</span><span class="p">],</span> <span class="n">cachers</span><span class="o">=</span><span class="p">[</span><span class="n">FileReferenceCacher</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">output_text_files</span><span class="p">(</span><span class="n">record</span><span class="p">):</span>
    <span class="n">file_path</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">get_dir</span><span class="p">(</span><span class="s2">&quot;my_files&quot;</span><span class="p">)</span>
    <span class="n">my_file_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;my_file_</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">my_file_list</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
            <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">my_file_list</span>
</pre></div>
</div>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.FileReferenceCacher.check" title="curifactory.caching.FileReferenceCacher.check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check</span></code></a>()</p></td>
<td><p>Check to see if this cacheable needs to be written or not.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.FileReferenceCacher.load" title="curifactory.caching.FileReferenceCacher.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.FileReferenceCacher.save" title="curifactory.caching.FileReferenceCacher.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(files)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.FileReferenceCacher.check">
<code class="sig-name descname"><span class="pre">check</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">bool</span><a class="headerlink" href="#curifactory.caching.FileReferenceCacher.check" title="Permalink to this definition"></a></dt>
<dd><p>Check to see if this cacheable needs to be written or not.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function will always return False if the args are <code class="code docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if we find the cached file and the current <code class="code docutils literal notranslate"><span class="pre">Args</span></code>
don’t specify to overwrite, otherwise False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.FileReferenceCacher.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#curifactory.caching.FileReferenceCacher.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.FileReferenceCacher.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.FileReferenceCacher.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.JsonCacher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">JsonCacher</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.JsonCacher" title="Permalink to this definition"></a></dt>
<dd><p>Dumps an object to indented JSON.</p>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.JsonCacher.load" title="curifactory.caching.JsonCacher.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.JsonCacher.save" title="curifactory.caching.JsonCacher.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(obj)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.JsonCacher.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.JsonCacher.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.JsonCacher.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.JsonCacher.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.Lazy">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">Lazy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.Lazy" title="Permalink to this definition"></a></dt>
<dd><p>A class to indicate a stage output as a lazy-cache object - curifactory will
attempt to keep this out of memory as much as possible, immediately caching and deleting,
and loading back into memeory only when needed.</p>
</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.PandasCsvCacher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">PandasCsvCacher</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_csv_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_csv_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'index_col':</span> <span class="pre">0}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasCsvCacher" title="Permalink to this definition"></a></dt>
<dd><p>Saves a pandas dataframe to CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to_csv_args</strong> (<em>Dict</em>) – Dictionary of arguments to use in the pandas
<code class="code docutils literal notranslate"><span class="pre">to_csv()</span></code> call.</p></li>
<li><p><strong>read_csv_args</strong> (<em>Dict</em>) – Dictionary of arguments to use in the pandas
<code class="code docutils literal notranslate"><span class="pre">read_csv()</span></code> call.</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.PandasCsvCacher.load" title="curifactory.caching.PandasCsvCacher.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.PandasCsvCacher.save" title="curifactory.caching.PandasCsvCacher.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(obj)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.PandasCsvCacher.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasCsvCacher.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.PandasCsvCacher.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasCsvCacher.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.PandasJsonCacher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">PandasJsonCacher</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_json_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{'double_precision':</span> <span class="pre">15}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_json_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasJsonCacher" title="Permalink to this definition"></a></dt>
<dd><p>Saves a pandas dataframe to JSON.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using this cacher is inadvisable for floating point data, as precision
will be lost, creating the potential for different results when using
cached values with this cacher as opposed to the first non-cached run.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>to_json_args</strong> (<em>Dict</em>) – Dictionary of arguments to use in the pandas
<code class="code docutils literal notranslate"><span class="pre">to_json()</span></code> call.</p></li>
<li><p><strong>read_json_args</strong> (<em>Dict</em>) – Dictionary of arguments to use in the pandas
<code class="code docutils literal notranslate"><span class="pre">read_json()</span></code> call.</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.PandasJsonCacher.load" title="curifactory.caching.PandasJsonCacher.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.PandasJsonCacher.save" title="curifactory.caching.PandasJsonCacher.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(obj)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.PandasJsonCacher.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasJsonCacher.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.PandasJsonCacher.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PandasJsonCacher.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="curifactory.caching.PickleCacher">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">curifactory.caching.</span></code><code class="sig-name descname"><span class="pre">PickleCacher</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PickleCacher" title="Permalink to this definition"></a></dt>
<dd><p>Dumps an object to a pickle file.</p>
<p><strong>Methods:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#curifactory.caching.PickleCacher.load" title="curifactory.caching.PickleCacher.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>()</p></td>
<td><p>Load the cacheable from disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#curifactory.caching.PickleCacher.save" title="curifactory.caching.PickleCacher.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(obj)</p></td>
<td><p>Save the passed object to disk.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="curifactory.caching.PickleCacher.load">
<code class="sig-name descname"><span class="pre">load</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PickleCacher.load" title="Permalink to this definition"></a></dt>
<dd><p>Load the cacheable from disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="curifactory.caching.PickleCacher.save">
<code class="sig-name descname"><span class="pre">save</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#curifactory.caching.PickleCacher.save" title="Permalink to this definition"></a></dt>
<dd><p>Save the passed object to disk.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Any subclass is <strong>required</strong> to implement this.</p>
</div>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="args.html" class="btn btn-neutral float-left" title="Args" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="docker.html" class="btn btn-neutral float-right" title="Docker" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, UT Battelle, LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
